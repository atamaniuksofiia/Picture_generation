{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46237249-998f0f24dffb15788a2eb0e4e';\n\n\n\n\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { BASE_URL, API_KEY } from './pixabay-api.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport async function fetchImages(query, page = 1) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: page,\n        per_page: 15,\n    });\n    const url = `${BASE_URL}?${params}`;\n\n    try {\n        const response = await axios.get(url);\n        if (response.status !== 200) {\n            throw new Error('Network response was not ok');\n        }\n        return response.data.hits;\n    } catch (error) {\n        iziToast.error({\n            title: 'Error',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n        return [];\n    }\n}\n\nexport function createImageMarkup(images) {\n    const markup = images\n        .map(\n            ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n                <li class=\"gallery-item\">\n                    <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                    </a>\n                    <div class=\"info\">\n                        <p class=\"info-item\"><span>Likes:</span> ${likes}</p>\n                        <p class=\"info-item\"><span>Views:</span> ${views}</p>\n                        <p class=\"info-item\"><span>Comments:</span> ${comments}</p>\n                        <p class=\"info-item\"><span>Downloads:</span> ${downloads}</p>\n                    </div>\n                </li>\n            `\n        )\n        .join('');\n\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = markup;\n    lightbox.refresh();\n}\n","import { fetchImages, createImageMarkup } from './js/render-functions';\nimport { BASE_URL, API_KEY } from './js/pixabay-api.js';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.js-load-more');\n\nlet query = '';\nlet page = 1;\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    query = document.querySelector('input[name=\"query\"]').value.trim();\n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Search query cannot be empty.',\n        });\n        return;\n    }\n\n    gallery.innerHTML = '';\n    page = 1;\n    loadMoreBtn.classList.add('is-hidden');\n\n    try {\n        const images = await fetchImages(query, page);\n        const markup = createImageMarkup(images);\n        gallery.innerHTML = markup;\n        loadMoreBtn.classList.remove('is-hidden');\n    } catch (error) {\n        console.error(error);\n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while fetching images. Please try again later.',\n        });\n    }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n    page += 1;\n    try {\n        const images = await fetchImages(query, page);\n        const markup = createImageMarkup(images);\n        gallery.insertAdjacentHTML('beforeend', markup);\n        lightbox.refresh();\n    } catch (error) {\n        console.error(error);\n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while fetching images. Please try again later.',\n        });\n    }\n});"],"names":["BASE_URL","API_KEY","lightbox","SimpleLightbox","fetchImages","query","page","params","url","response","axios","iziToast","createImageMarkup","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","loadMoreBtn","event","error"],"mappings":"owBAAO,MAAMA,EAAW,2BACXC,EAAU,qCCMjBC,EAAW,IAAIC,EAAe,YAAY,EAEzC,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CAC/C,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKN,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAU,EAClB,CAAK,EACKE,EAAM,GAAGR,CAAQ,IAAIO,CAAM,GAEjC,GAAI,CACA,MAAME,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,GAAIC,EAAS,SAAW,IACpB,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,KAAK,IACxB,MAAe,CACZ,OAAAE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACrB,CAAS,EACM,EACV,CACL,CAEO,SAASC,EAAkBC,EAAQ,CACtC,MAAMC,EAASD,EACV,IACG,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,+BAE3DL,CAAa;AAAA,oCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mEAGKC,CAAK;AAAA,mEACLC,CAAK;AAAA,sEACFC,CAAQ;AAAA,uEACPC,CAAS;AAAA;AAAA;AAAA,aAIvE,EACA,KAAK,EAAE,EAENC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYR,EACpBZ,EAAS,QAAO,CACpB,CClDA,MAAMqB,EAAO,SAAS,cAAc,cAAc,EAC5CD,EAAU,SAAS,cAAc,UAAU,EAC3CE,EAAc,SAAS,cAAc,eAAe,EAE1D,IAAInB,EAAQ,GACRC,EAAO,EAEX,MAAMJ,EAAW,IAAIC,EAAe,YAAY,EAEhDoB,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAI7C,GAHAA,EAAM,eAAc,EAEpBpB,EAAQ,SAAS,cAAc,qBAAqB,EAAE,MAAM,OACxD,CAACA,EAAO,CACRM,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACrB,CAAS,EACD,MACH,CAEDW,EAAQ,UAAY,GACpBhB,EAAO,EACPkB,EAAY,UAAU,IAAI,WAAW,EAErC,GAAI,CACA,MAAMX,EAAS,MAAMT,EAAYC,EAAOC,CAAI,EACtCQ,EAASF,EAAkBC,CAAM,EACvCS,EAAQ,UAAYR,EACpBU,EAAY,UAAU,OAAO,WAAW,CAC3C,OAAQE,EAAO,CACZ,QAAQ,MAAMA,CAAK,EACnBf,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kEACrB,CAAS,CACJ,CACL,CAAC,EAEDa,EAAY,iBAAiB,QAAS,SAAY,CAC9ClB,GAAQ,EACR,GAAI,CACA,MAAMO,EAAS,MAAMT,EAAYC,EAAOC,CAAI,EACtCQ,EAASF,EAAkBC,CAAM,EACvCS,EAAQ,mBAAmB,YAAaR,CAAM,EAC9CZ,EAAS,QAAO,CACnB,OAAQwB,EAAO,CACZ,QAAQ,MAAMA,CAAK,EACnBf,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kEACrB,CAAS,CACJ,CACL,CAAC"}